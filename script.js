// other themes to add ?
// bigger memory?

var library = {
  landmark_video: [
    [
      "https://cdn.tatlerasia.com/tatlerasia/i/2022/10/21130537-little-india-sg_cover_1500x1000.jpg",
      "https://www.youtube.com/watch?app=desktop&v=0DMSRq4ELQA",
    ],
    [
      "https://cdn.tatlerasia.com/tatlerasia/i/2022/10/21130537-little-india-sg_cover_1500x1000.jpg",
      "https://www.youtube.com/watch?app=desktop&v=0DMSRq4ELQA",
    ],
    [
      "https://www.scribblinggeek.com/wp-content/uploads/2024/01/Chinatown-Chinese-New-Year-Light-Up-2024.jpg",
      "https://www.youtube.com/watch?app=desktop&v=hRwwWyM7dXc",
    ],
    [
      "https://www.scribblinggeek.com/wp-content/uploads/2024/01/Chinatown-Chinese-New-Year-Light-Up-2024.jpg",
      "https://www.youtube.com/watch?app=desktop&v=hRwwWyM7dXc",
    ],
    [
      "https://static.mothership.sg/1/2019/04/img0101.jpg",
      "https://www.youtube.com/watch?v=zVcmSli-xjs",
    ],
    [
      "https://static.mothership.sg/1/2019/04/img0101.jpg",
      "https://www.youtube.com/watch?v=zVcmSli-xjs",
    ],
    [
      "https://media1.thrillophilia.com/filestore/zm532qsxygdisi8y206pukyx2d8s_Singapore_zoo_54d87c3d44.jpg?w=1840&h=1080",
      "https://www.youtube.com/watch?v=sOlyy9Bovv4",
    ],
    [
      "https://media1.thrillophilia.com/filestore/zm532qsxygdisi8y206pukyx2d8s_Singapore_zoo_54d87c3d44.jpg?w=1840&h=1080",
      "https://www.youtube.com/watch?v=sOlyy9Bovv4",
    ],
    [
      "https://static.mothership.sg/1/2018/08/national-library-stamford-road-01.jpg",
      "https://www.youtube.com/watch?v=0Feqd0DlcfY",
    ],
    [
      "https://static.mothership.sg/1/2018/08/national-library-stamford-road-01.jpg",
      "https://www.youtube.com/watch?v=0Feqd0DlcfY",
    ],
    [
      "https://www.roots.gov.sg/CollectionImages/1183853.jpg",
      "https://www.youtube.com/watch?v=D1FlpMsiGPw",
    ],
    [
      "https://www.roots.gov.sg/CollectionImages/1183853.jpg",
      "https://www.youtube.com/watch?v=D1FlpMsiGPw",
    ],
    [
      "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Jurong_Bird_Park_2014.jpg/1280px-Jurong_Bird_Park_2014.jpg",
      "https://www.youtube.com/watch?v=YfmpbfF-MLA",
    ],
    [
      "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Jurong_Bird_Park_2014.jpg/1280px-Jurong_Bird_Park_2014.jpg",
      "https://www.youtube.com/watch?v=YfmpbfF-MLA",
    ],
    // [
    //   "https://www.visitsingapore.com/see-do-singapore/architecture/historical/chijmes/_jcr_content/par-carousel/carousel_detailpage/carousel/item_2.thumbnail.carousel-img.740.416.jpg",
    //   "https://www.youtube.com/watch?v=YezhZghfLxE",
    // ],
    // [
    //   "https://www.visitsingapore.com/see-do-singapore/architecture/historical/chijmes/_jcr_content/par-carousel/carousel_detailpage/carousel/item_2.thumbnail.carousel-img.740.416.jpg",
    //   "https://www.youtube.com/watch?v=YezhZghfLxE",
    // ],
    [
      "https://www.roots.gov.sg/-/media/Roots/Images/monuments/032-central-fire-station/central-fire-station-01.ashx",
      "https://www.youtube.com/watch?v=VmblbCT3VJo&t=6s",
    ],
    [
      "https://www.roots.gov.sg/-/media/Roots/Images/monuments/032-central-fire-station/central-fire-station-01.ashx",
      "https://www.youtube.com/watch?v=VmblbCT3VJo&t=6s",
    ],
    // [
    //   "https://www.visitsingapore.com/see-do-singapore/arts/performance-arts/victoria-theatre-concert-hall/_jcr_content/par-carousel/carousel_detailpage/carousel/item_1.thumbnail.carousel-img.740.416.jpg",
    //   "https://www.youtube.com/watch?v=L7UxwTdoe7I",
    // ],
    // [
    //   "https://www.visitsingapore.com/see-do-singapore/arts/performance-arts/victoria-theatre-concert-hall/_jcr_content/par-carousel/carousel_detailpage/carousel/item_1.thumbnail.carousel-img.740.416.jpg",
    //   "https://www.youtube.com/watch?v=L7UxwTdoe7I",
    // ],
    [
      "https://www.visitsingapore.com/see-do-singapore/architecture/historical/raffles-hotel/_jcr_content/par-carousel/carousel_detailpage/carousel/item0.thumbnail.carousel-img.740.416.jpg",
      "https://www.youtube.com/watch?v=vhv0s_4xYxo",
    ],
    [
      "https://www.visitsingapore.com/see-do-singapore/architecture/historical/raffles-hotel/_jcr_content/par-carousel/carousel_detailpage/carousel/item0.thumbnail.carousel-img.740.416.jpg",
      "https://www.youtube.com/watch?v=vhv0s_4xYxo",
    ],
    // [
    //   "https://www.visitsingapore.com/see-do-singapore/recreation-leisure/resorts/marina-bay-sands/_jcr_content/par-carousel/carousel_detailpage/carousel/item_1.thumbnail.carousel-img.740.416.jpg",
    //   "https://www.youtube.com/watch?v=t8ex2PiD0Sg",
    // ],
    // [
    //   "https://www.visitsingapore.com/see-do-singapore/recreation-leisure/resorts/marina-bay-sands/_jcr_content/par-carousel/carousel_detailpage/carousel/item_1.thumbnail.carousel-img.740.416.jpg",
    //   "https://www.youtube.com/watch?v=t8ex2PiD0Sg",
    // ],
    [
      "https://www.visitsingapore.com/see-do-singapore/architecture/historical/lau-pa-sat/_jcr_content/par-carousel/carousel_detailpage/carousel/item_2.thumbnail.carousel-img.740.416.jpg",
      "https://www.youtube.com/watch?v=Mjh979iz7Ug",
    ],
    [
      "https://www.visitsingapore.com/see-do-singapore/architecture/historical/lau-pa-sat/_jcr_content/par-carousel/carousel_detailpage/carousel/item_2.thumbnail.carousel-img.740.416.jpg",
      "https://www.youtube.com/watch?v=Mjh979iz7Ug",
    ],
  ],
  landmark: [
    "https://media1.thrillophilia.com/filestore/zm532qsxygdisi8y206pukyx2d8s_Singapore_zoo_54d87c3d44.jpg?w=1840&h=1080",
    "https://media1.thrillophilia.com/filestore/zm532qsxygdisi8y206pukyx2d8s_Singapore_zoo_54d87c3d44.jpg?w=1840&h=1080",
    "https://static.mothership.sg/1/2018/08/national-library-stamford-road-01.jpg",
    "https://www.roots.gov.sg/CollectionImages/1183853.jpg",
    "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Jurong_Bird_Park_2014.jpg/1280px-Jurong_Bird_Park_2014.jpg",
    "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Jurong_Bird_Park_2014.jpg/1280px-Jurong_Bird_Park_2014.jpg",
    "https://www.visitsingapore.com/see-do-singapore/architecture/historical/chijmes/_jcr_content/par-carousel/carousel_detailpage/carousel/item_2.thumbnail.carousel-img.740.416.jpg",
    "https://www.visitsingapore.com/see-do-singapore/architecture/historical/chijmes/_jcr_content/par-carousel/carousel_detailpage/carousel/item_2.thumbnail.carousel-img.740.416.jpg",
    "https://www.roots.gov.sg/-/media/Roots/Images/monuments/032-central-fire-station/central-fire-station-01.ashx",
    "https://www.roots.gov.sg/-/media/Roots/Images/monuments/032-central-fire-station/central-fire-station-01.ashx",
    "https://www.visitsingapore.com/see-do-singapore/arts/performance-arts/victoria-theatre-concert-hall/_jcr_content/par-carousel/carousel_detailpage/carousel/item_1.thumbnail.carousel-img.740.416.jpg",
    "https://www.visitsingapore.com/see-do-singapore/arts/performance-arts/victoria-theatre-concert-hall/_jcr_content/par-carousel/carousel_detailpage/carousel/item_1.thumbnail.carousel-img.740.416.jpg",
    "https://www.visitsingapore.com/see-do-singapore/architecture/historical/raffles-hotel/_jcr_content/par-carousel/carousel_detailpage/carousel/item0.thumbnail.carousel-img.740.416.jpg",
    "https://www.visitsingapore.com/see-do-singapore/architecture/historical/raffles-hotel/_jcr_content/par-carousel/carousel_detailpage/carousel/item0.thumbnail.carousel-img.740.416.jpg",
    "https://www.visitsingapore.com/see-do-singapore/recreation-leisure/resorts/marina-bay-sands/_jcr_content/par-carousel/carousel_detailpage/carousel/item_1.thumbnail.carousel-img.740.416.jpg",
    "https://www.visitsingapore.com/see-do-singapore/recreation-leisure/resorts/marina-bay-sands/_jcr_content/par-carousel/carousel_detailpage/carousel/item_1.thumbnail.carousel-img.740.416.jpg",
    "https://www.roots.gov.sg/CollectionImages/1183853.jpg",
    "https://static.mothership.sg/1/2018/08/national-library-stamford-road-01.jpg",
    "https://www.visitsingapore.com/see-do-singapore/architecture/historical/lau-pa-sat/_jcr_content/par-carousel/carousel_detailpage/carousel/item_2.thumbnail.carousel-img.740.416.jpg",
    "https://www.visitsingapore.com/see-do-singapore/architecture/historical/lau-pa-sat/_jcr_content/par-carousel/carousel_detailpage/carousel/item_2.thumbnail.carousel-img.740.416.jpg",
  ],
  pokemon: [
    "https://res.cloudinary.com/beumsk/image/upload/v1547980025/memory/Pokemon/Bulbasaur.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980083/memory/Pokemon/Charmander.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980101/memory/Pokemon/Squirtle.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980116/memory/Pokemon/Pikachu.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980129/memory/Pokemon/Mewtwo.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980142/memory/Pokemon/Mew.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980154/memory/Pokemon/Articuno.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980164/memory/Pokemon/Zapdos.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980175/memory/Pokemon/Moltres.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980186/memory/Pokemon/Eevee.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980025/memory/Pokemon/Bulbasaur.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980083/memory/Pokemon/Charmander.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980101/memory/Pokemon/Squirtle.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980116/memory/Pokemon/Pikachu.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980129/memory/Pokemon/Mewtwo.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980142/memory/Pokemon/Mew.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980154/memory/Pokemon/Articuno.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980164/memory/Pokemon/Zapdos.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980175/memory/Pokemon/Moltres.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980186/memory/Pokemon/Eevee.png",
  ],
  starwars: [
    "https://res.cloudinary.com/beumsk/image/upload/v1547980981/memory/starwars/anakin%20skywalker.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981009/memory/starwars/luke%20skywalker.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981022/memory/starwars/Obi%20wann.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981054/memory/starwars/Han%20solo.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981074/memory/starwars/chewbacca.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981095/memory/starwars/yoda.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981117/memory/starwars/dark%20sidious.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981141/memory/starwars/dark%20vador.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981165/memory/starwars/padme.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981190/memory/starwars/leia.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547980981/memory/starwars/anakin%20skywalker.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981009/memory/starwars/luke%20skywalker.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981022/memory/starwars/Obi%20wann.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981054/memory/starwars/Han%20solo.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981074/memory/starwars/chewbacca.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981095/memory/starwars/yoda.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981117/memory/starwars/dark%20sidious.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981141/memory/starwars/dark%20vador.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981165/memory/starwars/padme.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981190/memory/starwars/leia.jpg",
  ],
  lotr: [
    "https://res.cloudinary.com/beumsk/image/upload/v1547981408/memory/lotr/gandalf.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981438/memory/lotr/sauron.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981469/memory/lotr/Aragorn.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981501/memory/lotr/legolas.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981535/memory/lotr/Gimli.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981603/memory/lotr/golum.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981645/memory/lotr/sam.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981686/memory/lotr/saroumane.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981738/memory/lotr/bilbo.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981802/memory/lotr/frodo.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981408/memory/lotr/gandalf.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981438/memory/lotr/sauron.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981469/memory/lotr/Aragorn.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981501/memory/lotr/legolas.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981535/memory/lotr/Gimli.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981603/memory/lotr/golum.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981645/memory/lotr/sam.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981686/memory/lotr/saroumane.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981738/memory/lotr/bilbo.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547981802/memory/lotr/frodo.jpg",
  ],
  disney: [
    "https://res.cloudinary.com/beumsk/image/upload/v1547982044/memory/disney/mickey.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982088/memory/disney/mowgli.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982610/memory/disney/tarzan.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982620/memory/disney/simba.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982628/memory/disney/aladin.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982636/memory/disney/blanche%20neige.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982644/memory/disney/alice.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982653/memory/disney/peter%20pan.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982663/memory/disney/pinocchio.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982738/memory/disney/raiponce.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982044/memory/disney/mickey.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982088/memory/disney/mowgli.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982610/memory/disney/tarzan.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982620/memory/disney/simba.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982628/memory/disney/aladin.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982636/memory/disney/blanche%20neige.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982644/memory/disney/alice.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982653/memory/disney/peter%20pan.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982663/memory/disney/pinocchio.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982738/memory/disney/raiponce.jpg",
  ],
  pixar: [
    "https://res.cloudinary.com/beumsk/image/upload/v1547982971/memory/pixar/up.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982987/memory/pixar/buzz.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983000/memory/pixar/woody.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983016/memory/pixar/Remy.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983032/memory/pixar/Mike.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983077/memory/pixar/Nemo.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983114/memory/pixar/wall-e.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983169/memory/pixar/Mr-Incredible.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983381/memory/pixar/sully.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983403/memory/pixar/flash%20mcqueen.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982971/memory/pixar/up.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547982987/memory/pixar/buzz.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983000/memory/pixar/woody.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983016/memory/pixar/Remy.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983032/memory/pixar/Mike.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983077/memory/pixar/Nemo.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983114/memory/pixar/wall-e.png",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983169/memory/pixar/Mr-Incredible.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983381/memory/pixar/sully.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547983403/memory/pixar/flash%20mcqueen.jpg",
  ],
  harrypotter: [
    "https://res.cloudinary.com/beumsk/image/upload/v1547998926/memory/harrypotter/harry.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547998958/memory/harrypotter/ron.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547998992/memory/harrypotter/hermione.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999106/memory/harrypotter/dumbledore.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999032/memory/harrypotter/malfoy.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999143/memory/harrypotter/voldemort.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999401/memory/harrypotter/rogue.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999196/memory/harrypotter/hagrid.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999271/memory/harrypotter/sirius.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999577/memory/harrypotter/neville.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547998926/memory/harrypotter/harry.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547998958/memory/harrypotter/ron.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547998992/memory/harrypotter/hermione.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999106/memory/harrypotter/dumbledore.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999032/memory/harrypotter/malfoy.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999143/memory/harrypotter/voldemort.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999401/memory/harrypotter/rogue.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999196/memory/harrypotter/hagrid.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999271/memory/harrypotter/sirius.jpg",
    "https://res.cloudinary.com/beumsk/image/upload/v1547999577/memory/harrypotter/neville.jpg",
  ],
};

var images = [];
var tempElt1 = "";
var tempElt2 = "";
var click = -1;
var win = 0;
var score = 0;
var time = 0;

var preElt = document.querySelector("#pre");
var themesElt = document.querySelector("#themes");
var boxElts = document.getElementsByClassName("box");
var mainElt = document.querySelector(".main");
var timeElt = document.querySelector("#time");
var scoreElt = document.querySelector("#score");
var postElt = document.querySelector("#post");
var finalElt = document.querySelector("#final");
var againElt = document.querySelector("#again");

// initiate the game with chosen theme
themesElt.addEventListener("click", function (e) {
  if (e.target.classList.contains("themes")) {
    activateTheme(e.target.id);
    preElt.classList.add("hidden");
  }
});

function shuffleArray(array) {
  for (var i = array.length - 1; i > 0; i--) {
    // Generate random number
    var j = Math.floor(Math.random() * (i + 1));

    var temp = array[i];
    array[i] = array[j];
    array[j] = temp;
  }

  return array;
}

function activateTheme(theme) {
  //   alert("The selected theme is: " + theme);

  // insert theme in images array
  for (let i = 0; i < 20; i++) {
    images.push(library[theme][i]);
  }
  let length = images.length;
  alert(
    "Total Number of images in selected " + theme + " theme are: " + length
  );

  if (theme === "landmark") {
    // insert images in memory game
    for (let i = 0; i < 20; i++) {
      var rand = Math.floor(Math.random() * (images.length - 1));
      //   let url =
      //     "https://www.visitsingapore.com/en/?cmp=SEM_STB-DC23-1015-SG-SEM_UK_DC_ENG_NA_NONE_NONE_EM-VisitSG-NA_NA_GOOG_SEA_AO_Cross_XTG&gad_source=1&gclid=Cj0KCQjw-r-vBhC-ARIsAGgUO2A8pbh2g-C_1M9RTeHxAvTHcL1diIRDDHdygV8eL0iTgGeL-kaHLmEaAgSoEALw_wcB&gclsrc=aw.ds";
      // boxElts[i].innerHTML =
      //   "<a href='www.google.com'><img src='" +
      //   images[rand] +
      //   "' alt='image' class='hidden'></a>";
      // boxElts[
      //   i
      // ].innerHTML = `<a href="${url}"><img src="${images[rand]}" alt="image" class="hidden"></a>`;
      // Image with web link
      boxElts[i].innerHTML = `<img src="${
        images[rand]
      }" alt="image" class="hidden"><span class="index" id="${i + 1}">${
        i + 1
      }</span>`;

      // Image without weblink
      // boxElts[
      //   i
      // ].innerHTML = `<img src="${images[rand]}" alt="image" class="hidden">`;
      images.splice(rand, 1);
    }
  } else if (theme === "landmark_video") {
    // insert images in memory game
    for (let i = 0; i < 20; i++) {
      var rand = Math.floor(Math.random() * (images.length - 1));
      //   let url =
      //     "https://www.visitsingapore.com/en/?cmp=SEM_STB-DC23-1015-SG-SEM_UK_DC_ENG_NA_NONE_NONE_EM-VisitSG-NA_NA_GOOG_SEA_AO_Cross_XTG&gad_source=1&gclid=Cj0KCQjw-r-vBhC-ARIsAGgUO2A8pbh2g-C_1M9RTeHxAvTHcL1diIRDDHdygV8eL0iTgGeL-kaHLmEaAgSoEALw_wcB&gclsrc=aw.ds";
      // boxElts[i].innerHTML =
      //   "<a href='www.google.com'><img src='" +
      //   images[rand] +
      //   "' alt='image' class='hidden'></a>";
      // boxElts[
      //   i
      // ].innerHTML = `<a href="${url}"><img src="${images[rand]}" alt="image" class="hidden"></a>`;
      // Image with web link
      boxElts[i].innerHTML = `<img src="${
        images[rand][0]
      }" alt="image" class="hidden"> <a href="${
        images[rand][1]
      } class="hidden" target="_blank"><span class="index" id="${i + 1}">${
        i + 1
      }</span></a>`;

      // Image without weblink
      // boxElts[
      //   i
      // ].innerHTML = `<img src="${images[rand]}" alt="image" class="hidden">`;
      images.splice(rand, 1);
    }
  } else {
    // insert images in memory game
    for (let i = 0; i < 20; i++) {
      var rand = Math.floor(Math.random() * (images.length - 1));
      // boxElts[i].innerHTML =
      //   "<a href='www.google.com'><img src='" +
      //   images[rand] +
      //   "' alt='image' class='hidden'></a>";
      // boxElts[
      //   i
      // ].innerHTML = `<a href="${url}"><img src="${images[rand]}" alt="image" class="hidden"></a>`;
      // Image with web link
      boxElts[
        i
      ].innerHTML = `<img src="${images[rand]}" alt="image" class="hidden">`;
      images.splice(rand, 1);
    }
  }
}

// Handle the play
mainElt.addEventListener("click", gameLogic);

function gameLogic(e) {
  // make sure the box is playable
  if (e.target.classList.contains("play")) {
    e.target.firstChild.classList.remove("hidden");
    // first of two click
    if (click < 1) {
      tempElt1 = e.target;
      // timer
      if (click === -1) {
        timer = setInterval(function () {
          time++;
          timeElt.innerHTML = time;
        }, 1000);
      }
      click = 1;
    }

    // second click
    else if (e.target !== tempElt1) {
      tempElt2 = e.target;

      // different images
      if (tempElt1.firstChild.src !== tempElt2.firstChild.src) {
        mainElt.removeEventListener("click", gameLogic);
        setTimeout(function () {
          tempElt1.firstChild.classList.add("hidden");
          tempElt2.firstChild.classList.add("hidden");
          mainElt.addEventListener("click", gameLogic);
        }, 400);
        if (score > 0) {
          score -= 2;
        }
        scoreElt.innerHTML = score;
      }

      // same images
      else {
        score += 10;
        win += 2;
        tempElt1.firstChild.classList.add("outlined");
        tempElt2.firstChild.classList.add("outlined");
        tempElt1.classList.remove("play");
        tempElt2.classList.remove("play");
        scoreElt.innerHTML = score;

        // game won
        if (win === 20) {
          clearInterval(timer);
          finalElt.innerHTML =
            "You won " + score + " points <br> in " + time + " seconds";
          //   Will not display this Pop-up when games completed
          //   postElt.classList.remove("hidden");
        }
      }
      click = 0;
    }
  }
}

againElt.addEventListener("click", resetGame);

function resetGame() {
  // reset game
  tempElt1 = "";
  tempElt2 = "";
  click = -1;
  win = 0;
  score = 0;
  time = 0;
  postElt.classList.add("hidden");
  preElt.classList.remove("hidden");
  for (let i = 0; i < 20; i++) {
    boxElts[i].classList.add("play");
    boxElts[i].firstChild.classList.add("hidden");
  }
  timeElt.textContent = time;
  scoreElt.textContent = score;
}

// handle focus of the page
// function checkPageFocus() {
//   if (document.hasFocus()) {
//     preElt.classList.remove("hidden");
//   }
//   else {
//     preElt.classList.add("hidden");
//   }
// }
// var checkPageInterval = setInterval(checkPageFocus, 300);
